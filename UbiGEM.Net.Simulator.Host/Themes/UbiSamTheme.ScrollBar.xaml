<ResourceDictionary xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation"
                    xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
                    xmlns:wpf="clr-namespace:UbiSam.Common.Themes.WPF">
    
    <Style x:Key="UbiSamThemeScrollBarButton" TargetType="{x:Type RepeatButton}">
        <Setter Property="BorderBrush" Value="{DynamicResource UbiSamThemeScrollBarBackground}"/>
        <Setter Property="Background" Value="{DynamicResource UbiSamThemeScrollBarBackground}"/>
        <Setter Property="BorderThickness" Value="0"/>
        <Setter Property="VerticalContentAlignment" Value="Center"/>
        <Setter Property="HorizontalContentAlignment" Value="Center"/>
        <Setter Property="Focusable" Value="False"/>
        <Setter Property="IsTabStop" Value="False"/>
        <Setter Property="Template">
            <Setter.Value>
                <ControlTemplate TargetType="{x:Type RepeatButton}">
                    <Border x:Name="border" BorderBrush="{TemplateBinding BorderBrush}" BorderThickness="1" Background="{TemplateBinding Background}" SnapsToDevicePixels="true">
                        <Path x:Name="Arrow" 
                              HorizontalAlignment="{TemplateBinding HorizontalContentAlignment}" VerticalAlignment="{TemplateBinding VerticalContentAlignment}"
                              Data="{Binding Content, RelativeSource={RelativeSource TemplatedParent}}" 
                              Fill="{TemplateBinding wpf:ScrollBarAssist.ButtonColor}"/>
                    </Border>
                </ControlTemplate>
            </Setter.Value>
        </Setter>
    </Style>

    <Style x:Key="UbiSamThemeScrollBarPageButton" TargetType="{x:Type RepeatButton}">
        <Setter Property="OverridesDefaultStyle" Value="True"/>
        <Setter Property="Background" Value="Transparent"/>
        <Setter Property="Focusable" Value="False"/>
        <Setter Property="IsTabStop" Value="False"/>
        <Setter Property="Template">
            <Setter.Value>
                <ControlTemplate TargetType="{x:Type RepeatButton}">
                    <Rectangle Fill="{TemplateBinding Background}" Height="{TemplateBinding Height}" Width="{TemplateBinding Width}"/>
                </ControlTemplate>
            </Setter.Value>
        </Setter>
    </Style>

    <Style x:Key="UbiSamThemeScrollBarThumb" TargetType="{x:Type Thumb}">
        <Setter Property="OverridesDefaultStyle" Value="True"/>
        <Setter Property="IsTabStop" Value="False"/>
        <Setter Property="Template">
            <Setter.Value>
                <ControlTemplate TargetType="{x:Type Thumb}">
                    <Border x:Name="border" Background="{TemplateBinding wpf:ScrollBarAssist.ThumbColor}"
                            Height="{TemplateBinding Height}" Width="{TemplateBinding Width}"
                            SnapsToDevicePixels="True" BorderThickness="0"/>
                    <ControlTemplate.Triggers>
                        <Trigger Property="IsDragging" Value="true">
                            <Setter Property="Opacity" Value="0.8" TargetName="border" />
                        </Trigger>
                    </ControlTemplate.Triggers>
                </ControlTemplate>
            </Setter.Value>
        </Setter>
    </Style>

    <ControlTemplate x:Key="UbiSamThemeVerticalScrollBar" TargetType="{x:Type ScrollBar}">
        <Grid>
            <Grid.RowDefinitions>
                <RowDefinition MaxHeight="18"/>
                <RowDefinition Height="0.00001*"/>
                <RowDefinition MaxHeight="18"/>
            </Grid.RowDefinitions>
            
            <Border Grid.RowSpan="3"
                    Background="{DynamicResource UbiSamThemeBackground}"/>
            <RepeatButton Grid.Row="0"
                          wpf:ScrollBarAssist.ButtonColor="{TemplateBinding wpf:ScrollBarAssist.ButtonColor}"
                          Style="{DynamicResource UbiSamThemeScrollBarButton}"
                          Command="ScrollBar.LineUpCommand"
                          Content="M 0 4 L 8 4 L 4 0 Z"/>
            <Track Name="PART_Track"
                   Grid.Row="1"
                   IsDirectionReversed="true">
                <Track.DecreaseRepeatButton>
                    <RepeatButton Style="{DynamicResource UbiSamThemeScrollBarPageButton}" 
                                  Command="ScrollBar.PageUpCommand"/>
                </Track.DecreaseRepeatButton>
                <Track.Thumb>
                    <Thumb wpf:ScrollBarAssist.ThumbColor="{TemplateBinding wpf:ScrollBarAssist.ThumbColor}" 
                           Style="{DynamicResource UbiSamThemeScrollBarThumb}"/>
                </Track.Thumb>
                <Track.IncreaseRepeatButton>
                    <RepeatButton Style="{DynamicResource UbiSamThemeScrollBarPageButton}"
                                  Command="ScrollBar.PageDownCommand" />
                </Track.IncreaseRepeatButton>
            </Track>
            <RepeatButton Grid.Row="2"
                          wpf:ScrollBarAssist.ButtonColor="{TemplateBinding wpf:ScrollBarAssist.ButtonColor}"
                          Style="{DynamicResource UbiSamThemeScrollBarButton}"
                          Height="18"
                          Command="ScrollBar.LineDownCommand"
                          Content="M 0 0 L 4 4 L 8 0 Z"/>
        </Grid>
    </ControlTemplate>

    <ControlTemplate x:Key="UbiSamThemeHorizontalScrollBar" TargetType="{x:Type ScrollBar}">
        <Grid>
            <Grid.ColumnDefinitions>
                <ColumnDefinition MaxWidth="18"/>
                <ColumnDefinition Width="0.00001*"/>
                <ColumnDefinition MaxWidth="18"/>
            </Grid.ColumnDefinitions>
            
            <Border Grid.ColumnSpan="3" 
                    Background="{DynamicResource UbiSamThemeBackground}"/>
            <RepeatButton Grid.Column="0"
                          Style="{DynamicResource UbiSamThemeScrollBarButton}"
                          wpf:ScrollBarAssist.ButtonColor="{TemplateBinding wpf:ScrollBarAssist.ButtonColor}"
                          Width="18"
                          Command="ScrollBar.LineLeftCommand"
                          Content="M 4 0 L 4 8 L 0 4 Z"/>
            <Track Name="PART_Track"
                   Grid.Column="1"
                   IsDirectionReversed="False">
                <Track.DecreaseRepeatButton>
                    <RepeatButton Style="{DynamicResource UbiSamThemeScrollBarPageButton}" 
                                  Command="ScrollBar.PageLeftCommand"/>
                </Track.DecreaseRepeatButton>
                <Track.Thumb>
                    <Thumb wpf:ScrollBarAssist.ThumbColor="{TemplateBinding wpf:ScrollBarAssist.ThumbColor}" 
                           Style="{DynamicResource UbiSamThemeScrollBarThumb}"/>
                </Track.Thumb>
                <Track.IncreaseRepeatButton>
                    <RepeatButton Style="{DynamicResource UbiSamThemeScrollBarPageButton}" 
                                  Command="ScrollBar.PageRightCommand"/>
                </Track.IncreaseRepeatButton>
            </Track>
            <RepeatButton Grid.Column="3"
                          Style="{DynamicResource UbiSamThemeScrollBarButton}"
                          wpf:ScrollBarAssist.ButtonColor="{TemplateBinding wpf:ScrollBarAssist.ButtonColor}"
                          Width="18"
                          Command="ScrollBar.LineRightCommand"
                          Content="M 0 0 L 4 4 L 0 8 Z"/>
        </Grid>
    </ControlTemplate>

    <ControlTemplate x:Key="UbiSamThemeHasHeaderVerticalScrollBar" TargetType="{x:Type ScrollBar}">
        <Grid>
            <Grid.RowDefinitions>
                <RowDefinition MaxHeight="42"/>
                <RowDefinition Height="0.00001*"/>
                <RowDefinition MaxHeight="18"/>
            </Grid.RowDefinitions>

            <Border Grid.RowSpan="3"
                    Background="{DynamicResource UbiSamThemeBackground}"/>
            <RepeatButton Grid.Row="0"
                          wpf:ScrollBarAssist.ButtonColor="{TemplateBinding wpf:ScrollBarAssist.ButtonColor}"
                          Style="{DynamicResource UbiSamThemeScrollBarButton}"
                          Command="ScrollBar.LineUpCommand"
                          Content="M 0 4 L 8 4 L 4 0 Z"/>
            <Track Name="PART_Track"
                   Grid.Row="1"
                   IsDirectionReversed="true">
                <Track.DecreaseRepeatButton>
                    <RepeatButton Style="{DynamicResource UbiSamThemeScrollBarPageButton}" 
                                  Command="ScrollBar.PageUpCommand"/>
                </Track.DecreaseRepeatButton>
                <Track.Thumb>
                    <Thumb wpf:ScrollBarAssist.ThumbColor="{TemplateBinding wpf:ScrollBarAssist.ThumbColor}" 
                           Style="{DynamicResource UbiSamThemeScrollBarThumb}"/>
                </Track.Thumb>
                <Track.IncreaseRepeatButton>
                    <RepeatButton Style="{DynamicResource UbiSamThemeScrollBarPageButton}"
                                  Command="ScrollBar.PageDownCommand"/>
                </Track.IncreaseRepeatButton>
            </Track>
            <RepeatButton Grid.Row="2"
                          wpf:ScrollBarAssist.ButtonColor="{TemplateBinding wpf:ScrollBarAssist.ButtonColor}"
                          Style="{DynamicResource UbiSamThemeScrollBarButton}"
                          Height="18"
                          Command="ScrollBar.LineDownCommand"
                          Content="M 0 0 L 4 4 L 8 0 Z"/>
        </Grid>
    </ControlTemplate>

    <Style x:Key="UbiSamThemeScrollBar" TargetType="{x:Type ScrollBar}">
        <Setter Property="SnapsToDevicePixels" Value="True" />
        <Setter Property="OverridesDefaultStyle" Value="true" />
        <Style.Triggers>
            <Trigger Property="Orientation" Value="Horizontal">
                <Setter Property="Width" Value="Auto"/>
                <Setter Property="Height" Value="18"/>
                <Setter Property="Template" Value="{StaticResource UbiSamThemeHorizontalScrollBar}" />
            </Trigger>
            <Trigger Property="Orientation" Value="Vertical">
                <Setter Property="Width" Value="18"/>
                <Setter Property="Height" Value="Auto"/>
                <Setter Property="Margin" Value="4,0,0,0"/>
                <Setter Property="Template" Value="{StaticResource UbiSamThemeVerticalScrollBar}" />
            </Trigger>
        </Style.Triggers>
    </Style>
</ResourceDictionary>